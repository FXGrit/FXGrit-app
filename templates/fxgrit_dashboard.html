<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>FXGrit Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
  <nav class="navbar navbar-light bg-white shadow-sm px-3">
    <span class="navbar-brand mb-0 h5">FXGrit</span>
    <div class="d-flex align-items-center gap-3">
      <span class="text-muted small">Logged in as <b>{{ username }}</b></span>
      <a class="btn btn-outline-secondary btn-sm" href="/broker">Broker Setup</a>
      <a class="btn btn-outline-secondary btn-sm" href="/logout">Logout</a>
    </div>
  </nav>

  <div class="container py-4">
    <div class="row g-3">
      <div class="col-12 col-lg-6">
        <div class="card p-3 shadow-sm" style="border-radius: 16px;">
          <h5>Welcome, {{ username }}</h5>
          <p class="text-muted mb-2">Your account is secured with Password + MPIN + 2FA. Biometric will be enforced on mobile app.</p>
          <a class="btn btn-sm btn-primary" href="/broker">Manage Brokers</a>
        </div>
      </div>

      <div class="col-12 col-lg-6">
        <div class="card p-3 shadow-sm" style="border-radius: 16px;">
          <h6 class="mb-2">Recent Activity</h6>
          {% if logs %}
            <ul class="list-group">
              {% for L in logs %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  <span>{{ L.event }} <span class="text-muted small">from {{ L.ip }}</span></span>
                  <span class="text-muted small">{{ L.at }}</span>
                </li>
              {% endfor %}
            </ul>
          {% else %}
            <div class="text-muted">No recent logs.</div>
          {% endif %}
        </div>
      </div>
    </div>

    <div class="alert alert-info mt-3">
      For mobile App: Use the <code>/2fa</code> endpoint once to fetch your secret, add it in Google Authenticator, then use 2FA during login.
    </div>
  </div>
</body>
</html>
